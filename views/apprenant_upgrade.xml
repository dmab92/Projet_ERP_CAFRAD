<?xml version="1.0" encoding="utf-8"?>
<odoo>
        <record id="view_upgrade_cafrad_filter" model="ir.ui.view">
           <field name="name">apprenant.cafrad.upgrade.filter</field>
            <field name="model">apprenant.cafrad.upgrade</field>
            <field name="arch" type="xml">
                <search string="Evaluations">
                    <field name="ane_academique_id"/>
                    <field name="name"/>
                    <field name="class_room_id"/>
                    <group expand="0" string="Group By">
                        <filter string="Annee Academique" name="groupby_ane_academique_id" domain="[]" context="{'group_by': 'ane_academique_id'}"/>
                        <filter string="Description" name="groupby_name" domain="[]" context="{'group_by': 'name'}"/>
                        <filter string="Salle de classe" name="groupby_class_room_id" domain="[]" context="{'group_by': 'class_room_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="view_apprenant_upgrade_cafrad_tree">
            <field name="name">Liste des Evaluations</field>
            <field name="model">apprenant.cafrad.upgrade</field>
            <field name="arch" type="xml">
                <tree string="Liste des Evaluations">
                    <field name="name"/>
                    <field name="ane_academique_id"/>
                    <field name="class_room_id" domain="[('actived','=',True)]"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_apprenant_upgrade_cafrad_form">
            <field name="name">Evaluations</field>
            <field name="model">apprenant.cafrad.upgrade</field>
            <field name="arch" type="xml">
                <form string="Evaluations">
                        <p class="oe_grey">
                                    Cr&#233;ez / &#233;ditez vos donn&#233;es sur les Evaluations
                               </p>
                    <header>
<!--                        <button name="set_validated"-->
<!--                                string="Valider les admissions"-->
<!--                                type="object"-->
<!--                                class="oe_highlight"-->
<!--                                icon="fa-check-circle"-->
<!--                            />-->
                    </header>
                    <sheet>
                            <group>
                                <field name="name" placehoder="Description" required="1"/>
                                <field name="ane_academique_id" />
                                <field name="class_room_id" required="1" domain="[('ane_academique_id', '=', 'ane_academique_id')]"/>
                                <field name="date_register"/>
                                <field name="apprenant_count"/>
                            </group>

                        <notebook colspan="4">
                            <page string="Les apprenants">
                                <field name="apprenant_ids" nolabel="1" colspan="4">
                                    <tree string="Apprenants" editable="top">
                                        <field name="name" readonly="1" required="1"/>
                                        <field name="classe_id" readonly="1" />
                                        <field name="annuel_average" required="1" min="0" max="20" />
                                         <field name="state" widget="statusbar" statusbar_visible="prospet,student" invisible="1" />

                                        <button name="button_admission"
                                            string="Admis"
                                            type="object"
                                            class="oe_link"
                                            attrs="{'invisible':[('state_admission','in',['redouble','admis'])]}"
                                            />

                                        <button name="button_redouble"
                                            string="Redouble"
                                            type="object"
                                            class="oe_link"
                                            attrs="{'invisible':[('state_admission','in',['redouble','admis'])]}"
                                            />

                                        <field name="state_admission"  string='Situation' nolabel="1"  readonly="1"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>

                    </sheet>

                </form>
            </field>
        </record>
        <record id="view_all_apprenant_cafrad_upgrade_graph" model="ir.ui.view">
            <field name="name">apprenant.cafrad.upgrade.graph</field>
            <field name="model">apprenant.cafrad.upgrade</field>
            <field name="arch" type="xml">
                <graph string="Nombre des apprenants par salle de classe">
                    <field name="class_room_id" groups="base.group_user"/>
                    <field name="apprenant_count" type="measure" groups="base.group_user"/>
                </graph>
            </field>
        </record>

        <record id="view_apprenant_upgrade_cafrad_action" model="ir.actions.act_window">
            <field name="name">Liste des Elavautaions</field>
            <field name="res_model">apprenant.cafrad.upgrade</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                 Cr&#233;ez / &#233;ditez vos donn&#233;es sur les Evaluations
              </p><p>
                Cette interface vous permet d'enregistrer les informations les Evaluations
              </p>
            </field>
        </record>
</odoo>
